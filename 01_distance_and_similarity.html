<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>Distance and Similarity</title>
  <meta name="description" content="Data Formats To maximize our use of data, especially large, complex data sets, we will need to understand the varied common types of data formats available t...">

  <link rel="canonical" href="https://kmsaumcis.github.io/mcis6273_f19_datamining/01_distance_and_similarity.html">
  <link rel="alternate" type="application/rss+xml" title="Jupyter Book | MCIS6273 Fall 2019" href="https://kmsaumcis.github.io/mcis6273_f19_datamining/feed.xml">

  <meta property="og:url"         content="https://kmsaumcis.github.io/mcis6273_f19_datamining/01_distance_and_similarity.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Distance and Similarity" />
<meta property="og:description" content="Data Formats To maximize our use of data, especially large, complex data sets, we will need to understand the varied common types of data formats available t..." />
<meta property="og:image"       content="https://kmsaumcis.github.io/mcis6273_f19_datamining/images/logo/logo.png" />

<meta name="twitter:card" content="summary">


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": "https://kmsaumcis.github.io/mcis6273_f19_datamining/01_distance_and_similarity.html",
  "headline": "Distance and Similarity",
  "datePublished": "2019-09-30T09:20:43-06:00",
  "dateModified": "2019-09-30T09:20:43-06:00",
  "description": "Data Formats To maximize our use of data, especially large, complex data sets, we will need to understand the varied common types of data formats available t...",
  "author": {
    "@type": "Person",
    "name": "Keith Maull"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kmsaumcis.github.io/mcis6273_f19_datamining",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://kmsaumcis.github.io/mcis6273_f19_datamining",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/mcis6273_f19_datamining/assets/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/regular.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/solid.css">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/mcis6273_f19_datamining/images/logo/favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<!-- (mostly) copied from nbconvert configuration -->
<!-- https://github.com/jupyter/nbconvert/blob/master/nbconvert/templates/html/mathjax.tpl -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true },
    }
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML' async></script>


  <!-- DOM updating function -->
  <script src="/mcis6273_f19_datamining/assets/js/dom-update.js"></script>

  <!-- Selectors for elements on the page -->
  <script src="/mcis6273_f19_datamining/assets/js/documentSelectors.js"></script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '/mcis6273_f19_datamining';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js" async></script>
  <script src="/mcis6273_f19_datamining/assets/js/anchors.js" async></script>

  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Load nbinteract for widgets -->
  

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->


<!-- Display Thebelab button in each code cell -->
<script>
/**
 * Set up thebelab button for code blocks
 */

const thebelabCellButton = id =>
  `<a id="thebelab-cell-button-${id}" class="btn thebebtn o-tooltip--left" data-tooltip="Interactive Mode">
    <img src="/mcis6273_f19_datamining/assets/images/edit-button.svg" alt="Start interactive mode">
  </a>`


const addThebelabButtonToCodeCells =  () => {

  const codeCells = document.querySelectorAll('div.input_area > div.highlight:not(.output) pre')
  codeCells.forEach((codeCell, index) => {
    const id = codeCellId(index)
    codeCell.setAttribute('id', id)
    if (document.getElementById("thebelab-cell-button-" + id) == null) {
      codeCell.insertAdjacentHTML('afterend', thebelabCellButton(id));
    }
  })
}

initFunction(addThebelabButtonToCodeCells);
</script>



<script type="text/x-thebe-config">
    {
      requestKernel: true,
      binderOptions: {
        repo: 'kmsaumcis/mcis6273_f19_datamining',
        ref: 'gh-pages',
      },
      codeMirrorConfig: {
        theme: "abcdef"
      },
      kernelOptions: {
        name: 'python3',
      }
    }
</script>
<script src="https://unpkg.com/thebelab@0.4.0/lib/index.js" async></script>
<script>
    /**
     * Add attributes to Thebelab blocks
     */

    const initThebelab = () => {
        const addThebelabToCodeCells = () => {
            console.log("Adding thebelab to code cells...");
            // If Thebelab hasn't loaded, wait a bit and try again. This
            // happens because we load ClipboardJS asynchronously.
            if (window.thebelab === undefined) {
                setTimeout(addThebelabToCodeCells, 250)
            return
            }

            // If we already detect a Thebelab cell, don't re-run
            if (document.querySelectorAll('div.thebelab-cell').length > 0) {
                return;
            }

            // Find all code cells, replace with Thebelab interactive code cells
            const codeCells = document.querySelectorAll('.input_area pre')
            codeCells.forEach((codeCell, index) => {
                const id = codeCellId(index)
                codeCell.setAttribute('data-executable', 'true')

                // Figure out the language it uses and add this too
                var parentDiv = codeCell.parentElement.parentElement;
                var arrayLength = parentDiv.classList.length;
                for (var ii = 0; ii < arrayLength; ii++) {
                    var parts = parentDiv.classList[ii].split('language-');
                    if (parts.length === 2) {
                        // If found, assign dataLanguage and break the loop
                        var dataLanguage = parts[1];
                        break;
                    }
                }
                codeCell.setAttribute('data-language', dataLanguage)

                // If the code cell is hidden, show it
                var inputCheckbox = document.querySelector(`input#hidebtn${codeCell.id}`);
                if (inputCheckbox !== null) {
                    setCodeCellVisibility(inputCheckbox, 'visible');
                }
            });

            // Remove the event listener from the page so keyboard press doesn't
            // Change page
            document.removeEventListener('keydown', initPageNav)
            keyboardListener = false;

            // Init thebelab
            thebelab.bootstrap();

            // Remove copy buttons since they won't work anymore
            const copyAndThebeButtons = document.querySelectorAll('.copybtn, .thebebtn')
            copyAndThebeButtons.forEach((button, index) => {
                button.remove();
            });

            // Remove outputs since they'll be stale
            const outputs = document.querySelectorAll('.output *, .output')
            outputs.forEach((output, index) => {
                output.remove();
            });

            // Find any cells with an initialization tag and ask ThebeLab to run them when ready
            var thebeInitCells = document.querySelectorAll('div.tag_thebelab-init');
            thebeInitCells.forEach((cell) => {
                console.log("Initializing ThebeLab with cell: " + cell.id);
                cell.querySelector('.thebelab-run-button').click();
            });
        }

        // Add event listener for the function to modify code cells
        const thebelabButtons = document.querySelectorAll('[id^=thebelab], [id$=thebelab]')
        thebelabButtons.forEach((thebelabButton,index) => {
            if (thebelabButton === null) {
                setTimeout(initThebelab, 250)
                return
            };
            thebelabButton.addEventListener('click', addThebelabToCodeCells);
        });
    }

    // Initialize Thebelab
    initFunction(initThebelab);
</script>



  <!-- Load the auto-generating TOC (non-async otherwise the TOC won't load w/ turbolinks) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js" async></script>
  <script src="/mcis6273_f19_datamining/assets/js/tocbot.js"></script>

  <!-- Google analytics -->
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '');
</script>



  <!-- Clipboard copy button -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script>

  <!-- Load custom website scripts -->
  <script src="/mcis6273_f19_datamining/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/mcis6273_f19_datamining/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/mcis6273_f19_datamining/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  
<script>
/**
  * To auto-embed hub URLs in interact links if given in a RESTful fashion
 */

function getJsonFromUrl(url) {
  var query = url.split('?');
  if (query.length < 2) {
    // No queries so just return false
    return false;
  }
  query = query[1];
  // Collect REST params into a dictionary
  var result = {};
  query.split("&").forEach(function(part) {
    var item = part.split("=");
    result[item[0]] = decodeURIComponent(item[1]);
  });
  return result;
}
    
function dict2param(dict) {
    params = Object.keys(dict).map(function(k) {
        return encodeURIComponent(k) + '=' + encodeURIComponent(dict[k])
    });
    return params.join('&')
}

// Parse a Binder URL, converting it to the string needed for JupyterHub
function binder2Jupyterhub(url) {
  newUrl = {};
  parts = url.split('v2/gh/')[1];
  // Grab the base repo information
  repoinfo = parts.split('?')[0];
  var [org, repo, ref] = repoinfo.split('/');
  newUrl['repo'] = ['https://github.com', org, repo].join('/');
  newUrl['branch'] = ref
  // Grab extra parameters passed
  params = getJsonFromUrl(url);
  if (params['filepath'] !== undefined) {
    newUrl['subPath'] = params['filepath']
  }
  return dict2param(newUrl);
}

// Filter out potentially unsafe characters to prevent xss
function safeUrl(url)
{
   return String(encodeURIComponent(url))
            .replace(/&/g, '&amp;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;');
}

function addParamToInternalLinks(hub) {
  var links = document.querySelectorAll("a").forEach(function(link) {
    var href = link.href;
    // If the link is an internal link...
    if (href.search("https://kmsaumcis.github.io") !== -1 || href.startsWith('/') || href.search("127.0.0.1:") !== -1) {
      // Assume we're an internal link, add the hub param to it
      var params = getJsonFromUrl(href);
      if (params !== false) {
        // We have REST params, so append a new one
        params['jupyterhub'] = hub;
      } else {
        // Create the REST params
        params = {'jupyterhub': hub};
      }
      // Update the link
      var newHref = href.split('?')[0] + '?' + dict2param(params);
      link.setAttribute('href', decodeURIComponent(newHref));
    }
  });
  return false;
}


// Update interact links
function updateInteractLink() {
    // hack to make this work since it expects a ? in the URL
    rest = getJsonFromUrl("?" + location.search.substr(1));
    jupyterHubUrl = rest['jupyterhub'];
    var hubType = null;
    var hubUrl = null;
    if (jupyterHubUrl !== undefined) {
      hubType = 'jupyterhub';
      hubUrl = jupyterHubUrl;
    }

    if (hubType !== null) {
      // Sanitize the hubUrl
      hubUrl = safeUrl(hubUrl);

      // Add HTTP text if omitted
      if (hubUrl.indexOf('http') < 0) {hubUrl = 'http://' + hubUrl;}
      var interactButtons = document.querySelectorAll("button.interact-button")
      var lastButton = interactButtons[interactButtons.length-1];
      var link = lastButton.parentElement;

      // If we've already run this, skip the link updating
      if (link.nextElementSibling !== null) {
        return;
      }

      // Update the link and add context div
      var href = link.getAttribute('href');
      if (lastButton.id === 'interact-button-binder') {
        // If binder links exist, we need to re-work them for jupyterhub
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // If localhost, assume we're working from a local Jupyter server and remove `/hub`
          first = [hubUrl, 'git-sync'].join('/')
        } else {
          first = [hubUrl, 'hub', 'user-redirect', 'git-sync'].join('/')
        }
        href = first + '?' + binder2Jupyterhub(href);
      } else {
        // If interact button isn't binderhub, assume it's jupyterhub
        // If JupyterHub links, we only need to replace the hub url
        href = href.replace("", hubUrl);
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // Assume we're working from a local Jupyter server and remove `/hub`
          href = href.replace("/hub/user-redirect", "");
        }
      }
      link.setAttribute('href', decodeURIComponent(href));

      // Add text after interact link saying where we're launching
      hubUrlNoHttp = decodeURIComponent(hubUrl).replace('http://', '').replace('https://', '');
      link.insertAdjacentHTML('afterend', '<div class="interact-context">on ' + hubUrlNoHttp + '</div>');

      // Update internal links so we retain the hub url
      addParamToInternalLinks(hubUrl);
    }
}

runWhenDOMLoaded(updateInteractLink)
document.addEventListener('turbolinks:load', updateInteractLink)
</script>


  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" async></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>

  <!-- Load JS that depends on site variables -->
  <script src="/mcis6273_f19_datamining/assets/js/copy-button.js" async></script>

  <!-- Hide cell code -->
  <script src="/mcis6273_f19_datamining/assets/js/hide-cell.js" async></script>

  <!-- Printing the screen -->
  <!-- Include nbinteract for interactive widgets -->
<script src="https://printjs-4de6.kxcdn.com/print.min.js" async></script>
<script>
printContent = () => {
    // MathJax displays a second version of any math for assistive devices etc.
    // This prevents double-rendering in the PDF output.
    var ignoreAssistList = [];
    assistives = document.querySelectorAll('.MathJax_Display span.MJX_Assistive_MathML').forEach((element, index) => {
        var thisId = 'MathJax-assistive-' + index.toString();
        element.setAttribute('id', thisId);
        ignoreAssistList.push(thisId)
    });

    // Print the actual content object
    printJS({
        printable: 'textbook_content',
        type: 'html',
        css: "/mcis6273_f19_datamining/assets/css/styles.css",
        scanStyles: false,
        targetStyles: ["*"],
        ignoreElements: ignoreAssistList
    })
};

initPrint = () => {
    document.querySelector('#interact-button-print').addEventListener('click', printContent)
}

initFunction(initPrint)
</script>

</head>

  <body>
    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="https://kmsaumcis.github.io/mcis6273_f19_datamining/start.html"><img src="/mcis6273_f19_datamining/images/logo/logo.png" class="textbook_logo" id="sidebar-logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">Jupyter Book | MCIS6273 Fall 2019</h2>
  <ul class="c-sidebar__chapters">
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/mcis6273_f19_datamining/start.html"
        >
          
          Home
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry c-sidebar__entry--active"
          href="/mcis6273_f19_datamining/01_distance_and_similarity.html"
        >
          
          Distance and Similarity
        </a>

        
      </li>

      
    
  </ul>
  <p class="sidebar_footer">Powered by <a href="https://github.com/jupyter/jupyter-book">Jupyter Book</a></p>
</nav>

      
      <div class="c-topbar" id="top-navbar">
  <!-- We show the sidebar by default so we use .is-active -->
  <div class="c-topbar__buttons">
    <button
      id="js-sidebar-toggle"
      class="hamburger hamburger--arrowalt is-active"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
    <div class="buttons">
<div class="download-buttons-dropdown">
    <button id="dropdown-button-trigger" class="interact-button"><i class="fa fa-download"></i></button>
    <div class="download-buttons">
        <a href="/mcis6273_f19_datamining/content/01_distance_and_similarity.ipynb" download>
        <button id="interact-button-download" class="interact-button">ORIG</button>
        </a>
        
        <a id="interact-button-print"><button id="interact-button-download" class="interact-button">PDF</button></a>
    </div>
</div>

  <button id="interact-button-thebelab" class="interact-button">Thebelab</button>

  
  






<a href="https://mybinder.org/v2/gh/kmsaumcis/mcis6273_f19_datamining/gh-pages?filepath=content%2F01_distance_and_similarity.ipynb"><button class="interact-button" id="interact-button-binder"><img class="interact-button-logo" src="/mcis6273_f19_datamining/assets/images/logo_binder.svg" alt="Interact" />Interact</button></a>
  


</div>

  </div>
  <!-- Empty sidebar placeholder that we'll auto-fill with javascript -->
  <aside class="sidebar__right">
    <header><h4 class="nav__title"><i class="fa fa-list"></i>   On this page</h4></header>
    <nav class="onthispage">
    </nav>
  </aside>
  <a href="/mcis6273_f19_datamining/search.html" class="topbar-right-button" id="search-button"><i class="fa fa-search"></i></a>
</div>

      <main class="c-textbook__page" tabindex="-1">
            <div class="c-textbook__content" id="textbook_content">
              <main class="jupyter-page">
<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Data-Formats">Data Formats<a class="anchor-link" href="#Data-Formats"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To maximize our use of data, especially large, complex data sets, we will need to understand the varied common types of <em>data formats</em> available today. We will frame our discussion of data formats separate from that of <em>data representation</em>, since the former is often centered around human, technological or machine needs, while the later allows us a more rigorous mathematical abstraction of data independent of technology.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Text-based-data-formats">Text-based data formats<a class="anchor-link" href="#Text-based-data-formats"> </a></h2><p>Though the international community has developed standards to address the variety of written, spoken and performed (in the case of sign language) human languages across our planet, modern  computers most often standardize on one of the older and widely accepted text-based formats, <a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> (American Standard Code for Information Interchange) text.  If you are reading this document right now on a screen, it is likely that some version of the document upon which this is based, is ASCII.</p>
<p>You can think of ASCII as one of the simplest, oldest and universally accepted text formats on digital computers from the 20th century and even today. Many files capturing a variety of data can be represented in ASCII, especially if the data are numeric or standard English.  You have likely dealt with an ASCII <em>data file</em> if you have ever opened a CSV file, and while over the past two decades, ASCII has been replaced by more robust text formats like <a href="https://www.unicode.org/standard/standard.html">Unicode</a> that are capable of broad range of characters from all written human languages and other special characters that can be printed on a computer screen. The core function of Unicode is that it "provides a unique number for every character, no matter what the platform, no matter what the program, no matter what the language."  Unicode, therefore, specifics the characters, and the <em>implementation</em> of that format is independent of its specification.  Thus, you may see formats like UTF-8, UTF-16 and others, which are <em>implementations</em> of Unicode characters in a minimum specified number of bits.  Thus, UTF-8 will provide an encoding of Unicode characters in no fewer than 8 bits (but note, UTF-8 allows for more than 8 bits to encode a character). Likewise, UTF-16 characters occupy no fewer than 16 bits.</p>
<p>There are 5 formats we will introduce now, that will appear in some form throughout your data career.</p>
<h3 id="Standard-ASCII-Text">Standard ASCII Text<a class="anchor-link" href="#Standard-ASCII-Text"> </a></h3><p>As mentioned before ASCII is the character set that most modern computers standardize on and dates back to the 1960s.  Nearly every computer made today can read and display an ASCII file and its character set neatly fits into a table 128 entries long.  You will find a wide array of current and historical data sets in ASCII, especially those from instruments that automatically produce numeric data.</p>
<h3 id="CSV-and-TSV">CSV and TSV<a class="anchor-link" href="#CSV-and-TSV"> </a></h3><p>CSV (Comma Separated Values) files are one of the most common file formats for ASCII data and have been with computing since the early 1970s.  The format is often well suited for flat tabular data of rows and columns, where each row represents the data for a number of columns or attributes.  CSV files, as the name suggests are delimeted by commas, while data of the close sibling  to CSV, TSV or Tab Separated Values, use the tab or <code>\t</code> character as its separator.  TSV are often more readable than CSV where columnar data are relatively the same in width, though CSV are more flexible when data are text.  Though CSV and TSV formats were introduced decades ago, and are <em>not</em> well suited for hierarchical data, they are still very useful and many never entirely be retired, since useful original datasets can still be found in this durable format.</p>

<pre><code>csv
John,Doe,120 jefferson st.,Riverside, NJ, 08075
Jack,McGinnis,220 hobo Av.,Phila, PA,09119
"John ""Da Man""",Repici,120 Jefferson St.,Riverside, NJ,08075
Stephen,Tyler,"7452 Terrace ""At the Plaza"" road",SomeTown,SD, 91234
,Blankman,,SomeTown, SD, 00298
"Joan ""the bone"", Anne",Jet,"9th, at Terrace plc",Desert City,CO,00123</code></pre>

<pre><code>tsv
John     Doe     120 jefferson st.     Riverside      NJ      08075
Jack     McGinnis     220 hobo Av.     Phila      PA     09119
"John ""Da Man"""     Repici     120 Jefferson St.     Riverside      NJ     08075
Stephen     Tyler     "7452 Terrace ""At the Plaza"" road"     SomeTown     SD      91234
     Blankman          SomeTown      SD      00298
"Joan ""the bone""      Anne"     Jet     "9th, at Terrace plc"     Desert City     CO     00123</code></pre>
<h3 id="XML">XML<a class="anchor-link" href="#XML"> </a></h3><p>The eXtensible Markup Language or XML, is a specification for markup languages with roots going back to the 1980s and SGML (Standard Generalized Markup Language).  In the 1990s when HTML, the Web and standardized data exchange was becoming critically important, XML was quickly tasked with filling the void in standards-based, vendor-agnostic formats for data exchange.</p>
<p>XML, while considered a verbose data format, can represent nearly any level of hiearchically nested data.  Unlike like its broken cousin HTML, XML is a well-formed format that when used in conjunction with XML Schema, can be validated as such.  Built atop the concepts of <em>elements</em> and <em>attributes</em>, an XML document can express a wide range of data, and while designed to be machine parsable, it is <em>human-readable</em> (if not a bit nauseating for complex nesting).  XML documents, as such are encoded in a text file and can be based on any suitable character set  &mdash; indeed, ASCII could represent a basic English-only XML document with no special characters.  XML is still a widely used data exchange format for enterprise applications and web data.</p>
<p>An example XML fragment below will show the similarity to HTML.  When used with the proper Schema (XHTML), the document can be considered a reasonable example of an XML-valid document.</p>
<div class="highlight"><pre><span></span><span class="nt">&lt;letter&gt;</span>
<span class="nt">&lt;to&gt;</span>John<span class="nt">&lt;/to&gt;</span>
<span class="nt">&lt;from&gt;</span>Gear<span class="nt">&lt;/from&gt;</span>
<span class="nt">&lt;heading&gt;</span>Hello There<span class="nt">&lt;/heading&gt;</span>
<span class="nt">&lt;body&gt;</span>I hope you are well.<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/letter&gt;</span>
</pre></div>
<h3 id="JSON">JSON<a class="anchor-link" href="#JSON"> </a></h3><p>In more recent years (the last decade or so), the <a href="https://json.org/">JSON format</a> has come to the fore as perhaps one of the most used and useful data formats for exchanging, storing and reusing data.  JavaScript Object Notation, as the name implies, is an artifact of the JavaScript community.  Like XML, JSON documents can have nested elements and has a strong key-value pair orientation.  In fact, one of the easiest ways to think about the data in a JSON object, <em>is exactly</em> to think about it as one large key-value store.</p>
<p>JSON can be encoded in ASCII or any other character set encoding (UTF-8 most common among them) and as such can be effeciently transmitted across operating systems, devices and transmission protocols.  Further, JSON objects can be directly transmitted from client to server and back in a way that allows it to be used directly by client or server Javascript code without any further conversion, making it an ideal choice in web application data exchange.</p>
<p>You will find that JSON is a highly readable format and parsers exist for it on nearly every major computing platform from embedded devices to supercomputers.  Many newer datasets are encoded as JSON and a large number of APIs use JSON as the standard data format.</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;widget&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;debug&quot;</span><span class="p">:</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span>
    <span class="nt">&quot;window&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Sample Konfabulator Widget&quot;</span><span class="p">,</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;main_window&quot;</span><span class="p">,</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
        <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">500</span>
    <span class="p">},</span>
    <span class="nt">&quot;image&quot;</span><span class="p">:</span> <span class="p">{</span> 
        <span class="nt">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;Images/Sun.png&quot;</span><span class="p">,</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;sun1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;hOffset&quot;</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
        <span class="nt">&quot;vOffset&quot;</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
        <span class="nt">&quot;alignment&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Click Here&quot;</span><span class="p">,</span>
        <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span>
        <span class="nt">&quot;style&quot;</span><span class="p">:</span> <span class="s2">&quot;bold&quot;</span><span class="p">,</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;text1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;hOffset&quot;</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
        <span class="nt">&quot;vOffset&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nt">&quot;alignment&quot;</span><span class="p">:</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="nt">&quot;onMouseUp&quot;</span><span class="p">:</span> <span class="s2">&quot;sun1.opacity = (sun1.opacity / 100) * 90;&quot;</span>
    <span class="p">}</span>
<span class="p">}}</span>
</pre></div>
<h3 id="Further-Reading">Further Reading<a class="anchor-link" href="#Further-Reading"> </a></h3><p>Robinson, G. S.; Cargill, C. (1996). "History and impact of computer standards". Computer. 29 (10): 79–85. <a href="https://dx.doi.org/10.1109/2.539725">doi:10.1109/2.539725</a>.</p>
<p>Mullendore, Ralph Elvin (1964) [1963]. Ptak, John F. (ed.). "On the Early Development of ASCII – The History of ASCII". JF Ptak Science Books (published March 2012). Archived from the original on May 26, 2016. Retrieved May 26, 2016. <a href="https://longstreet.typepad.com/thesciencebookstore/2012/03/heres-the-link.html">https://longstreet.typepad.com/thesciencebookstore/2012/03/heres-the-link.html</a></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Representing-Data">Representing Data<a class="anchor-link" href="#Representing-Data"> </a></h1><p>Our discussion of data formats leads us to a natural question: if there are so many formats, how should we handle <em>abstractions</em> of those formats so that we can do data analysis consistently and rigorously?</p>
<p>The answer to representing data is to cast data into a <em>model</em> that provides independence from the format.  Since many data can be seen as a set of attributes (e.g. keys) and their corresponding values, a common representation is a matrix. We can then consider each row of the matrix as a single data object where the column values of the row map to attributes and values of the object.  This can be extended further to extend the matrix by the number of rows for which there are data objects.</p>
<p>We can therefore represent data $D$ as a $n \times m$ matrix with $n$ rows of data corresponding to the $n$ data objects in the source data format, and $m$ columns representing the $m$ keys of the source data object (we assume that all objects have the same keys, and where keys are missing their missing values are store as an appropriate target value).</p>
<p>Here is the generalized representation of data:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
$$
D = \begin{bmatrix}
       d_{1,1} &amp; d_{1,2} &amp; \ldots &amp; d_{1,m} \\[0.3em]
       d_{2,1} &amp; d_{2,2} &amp; \ldots &amp; d_{2,m} \\[0.3em]
        \vdots &amp;         &amp; \ddots &amp;         \\[0.3em]
       d_{n,1} &amp; d_{n,2} &amp; \ldots &amp; d_{n,m} \\[0.3em]
     \end{bmatrix}
$$<p>Similarly, let each row in the matrix be represented as a vector, we can succintly represent it:</p>
$$
D = \begin{bmatrix}
        \mathbf{d_1} \\[0.3em]
        \mathbf{d_2} \\[0.3em]
            \vdots \\[0.3em]
        \mathbf{d_n} \\[0.3em]
    \end{bmatrix}
$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can now look at how this is handled in code.</p>
<p>As you have already seen, <a href="https://pandas.pydata.org">Pandas</a> provides a key implementation of our data matrix representation in the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/frame.html">DataFrame</a> object.</p>
<p>Let's see some code using it!</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
      <td>8</td>
      <td>9</td>
    </tr>
    <tr>
      <td>1</td>
      <td>10</td>
      <td>11</td>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
      <td>16</td>
      <td>17</td>
      <td>18</td>
      <td>19</td>
    </tr>
    <tr>
      <td>2</td>
      <td>20</td>
      <td>21</td>
      <td>22</td>
      <td>23</td>
      <td>24</td>
      <td>25</td>
      <td>26</td>
      <td>27</td>
      <td>28</td>
      <td>29</td>
    </tr>
    <tr>
      <td>3</td>
      <td>30</td>
      <td>31</td>
      <td>32</td>
      <td>33</td>
      <td>34</td>
      <td>35</td>
      <td>36</td>
      <td>37</td>
      <td>38</td>
      <td>39</td>
    </tr>
    <tr>
      <td>4</td>
      <td>40</td>
      <td>41</td>
      <td>42</td>
      <td>43</td>
      <td>44</td>
      <td>45</td>
      <td>46</td>
      <td>47</td>
      <td>48</td>
      <td>49</td>
    </tr>
    <tr>
      <td>5</td>
      <td>50</td>
      <td>51</td>
      <td>52</td>
      <td>53</td>
      <td>54</td>
      <td>55</td>
      <td>56</td>
      <td>57</td>
      <td>58</td>
      <td>59</td>
    </tr>
    <tr>
      <td>6</td>
      <td>60</td>
      <td>61</td>
      <td>62</td>
      <td>63</td>
      <td>64</td>
      <td>65</td>
      <td>66</td>
      <td>67</td>
      <td>68</td>
      <td>69</td>
    </tr>
    <tr>
      <td>7</td>
      <td>70</td>
      <td>71</td>
      <td>72</td>
      <td>73</td>
      <td>74</td>
      <td>75</td>
      <td>76</td>
      <td>77</td>
      <td>78</td>
      <td>79</td>
    </tr>
    <tr>
      <td>8</td>
      <td>80</td>
      <td>81</td>
      <td>82</td>
      <td>83</td>
      <td>84</td>
      <td>85</td>
      <td>86</td>
      <td>87</td>
      <td>88</td>
      <td>89</td>
    </tr>
    <tr>
      <td>9</td>
      <td>90</td>
      <td>91</td>
      <td>92</td>
      <td>93</td>
      <td>94</td>
      <td>95</td>
      <td>96</td>
      <td>97</td>
      <td>98</td>
      <td>99</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># column vector</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0     0
1    10
2    20
3    30
4    40
5    50
6    60
7    70
8    80
9    90
Name: 0, dtype: int64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># row vector</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>10</td>
      <td>11</td>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
      <td>16</td>
      <td>17</td>
      <td>18</td>
      <td>19</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="The-Nature-of-Data">The Nature of Data<a class="anchor-link" href="#The-Nature-of-Data"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Data in an of itself is an interesting topic from the perspective of storing it, providing access to it, developing provenance and metadata for it and is the subject of intense study for information scientists.  However, our biggest interest in data &mdash; from the perspective of data mining &mdash; is to <em>study data to find patterns in the data</em>.</p>
<p>We want to find patterns for several reasons.  First, we need to understand the underlying nature of the data; simple statistical information about <em>how much</em> data we have is an excellent starting point, but more importantly, we want to understand the <em>type</em> of data and the <em>distribution</em> of data by attributes.  We might then like to know how data are related to each other, for example which data are most similar to one another, or which attributes are associated with one another.  All of these contribute to finding <em>patterns</em> in data and we will begin to talk about them formally and mathematically shortly, but before we do let's make them concrete through exploring some examples.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="See-a-pattern-in-the-Data?">See a pattern in the Data?<a class="anchor-link" href="#See-a-pattern-in-the-Data?"> </a></h2><p>When we look at the following example, we would likely say we do not see much pattern in the visual representations of the two data below:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;scatter&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7ff2022711d0&gt;</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="images/01_distance_and_similarity_12_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">data_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">data_xy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data_x</span><span class="p">,</span> <span class="n">data_y</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">50</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_xy</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;scatter&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7ff202a3b198&gt;</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="images/01_distance_and_similarity_13_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>
<span class="n">data_y</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">data_x</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">data_xy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data_x</span><span class="p">,</span> <span class="n">data_y</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_xy</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;scatter&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7ff201f5edd8&gt;</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="images/01_distance_and_similarity_14_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You probably can agree that, different from the prior two examples, this data presents some kind of pattern &mdash; the points seem to be increasing in $x$ while also positively increasing with $y$.  We would like to develop a stronger mathematical understanding of this now.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Data-Patterns:-Centrality,-Distance-and-Similarity">Data Patterns: Centrality, Distance and Similarity<a class="anchor-link" href="#Data-Patterns:-Centrality,-Distance-and-Similarity"> </a></h1><ul>
<li>We are often confronted with understanding how two vectors are related</li>
<li>For our purposes are dealing with the mostly in the vector space of real values, $\mathbb{R}^n$</li>
<li>That means that conceptually, we will convert nominal features (variables) to numeric ones</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Centrality">Centrality<a class="anchor-link" href="#Centrality"> </a></h2><ul>
<li>we will begin with centrality: mean, median, mode, expected value</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="MEAN">MEAN<a class="anchor-link" href="#MEAN"> </a></h4><p>Let $X$ be a set of values in our dataset (including the entire dataset), then and let $n = \big|X\big|$</p>
$$ \bar{X} = \mu_X = { {1 \over n} {\sum_{x \in X} x} } $$<ul>
<li><em>mean</em>, <em>arithmetic mean</em> and <em>average</em> referring to the same thing</li>
<li>it is an essential concept of the central values of a data set</li>
<li>man can be influenced by extreme values</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="MEDIAN">MEDIAN<a class="anchor-link" href="#MEDIAN"> </a></h4><p>Let $X$ be a set of values in our dataset, then the <em>median</em> is the middle value of $X$.</p>
<ul>
<li>if $\big | X \big |$ is even, the median is ${1 \over 2} \big( x_{n \over 2} + x_{\frac{n}{2} + 1} \big)$ ,</li>
<li>otherwise, the median is $ x_{n+1 \over 2} $</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="MODE">MODE<a class="anchor-link" href="#MODE"> </a></h4><ul>
<li>the mode of a dataset $X$ is the most frequent value in $X$</li>
<li>mode can be useful for binned, discretized, non-numeric data (e.g. nominal data; most frequent car type in a particular town)</li>
<li>there can be more than one mode and thus bi- or multi-modal</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pandas-Example">Pandas Example<a class="anchor-link" href="#Pandas-Example"> </a></h3><p>To demonstrate these centrality features in Pandas, we'll show an example that uses some of the built-in convenience features available to use.</p>
<p>We'll use a sunshine dataset from that contains thousands of records over many decades that show the number of sunshine hours by year and by month for a number of US cities.</p>
<p>Details of this dataset can be found here:</p>
<ul>
<li><a href="https://cdiac.ucsd.edu/ftp/ndp021/ndp021r1.txt">https://cdiac.ucsd.edu/ftp/ndp021/ndp021r1.txt</a></li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">widths</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>                                   
<span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span>                                   
<span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">35</span><span class="p">),</span>                                   
<span class="p">(</span><span class="mi">37</span><span class="p">,</span><span class="mi">41</span><span class="p">),</span>                                
<span class="p">(</span><span class="mi">43</span><span class="p">,</span><span class="mi">46</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">48</span><span class="p">,</span><span class="mi">51</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">53</span><span class="p">,</span><span class="mi">56</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">58</span><span class="p">,</span><span class="mi">61</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">63</span><span class="p">,</span><span class="mi">66</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">68</span><span class="p">,</span><span class="mi">71</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">73</span><span class="p">,</span><span class="mi">76</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">78</span><span class="p">,</span><span class="mi">81</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">83</span><span class="p">,</span><span class="mi">86</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">88</span><span class="p">,</span><span class="mi">91</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">93</span><span class="p">,</span><span class="mi">96</span><span class="p">),</span>                                   
<span class="p">(</span><span class="mi">98</span><span class="p">,</span><span class="mi">101</span><span class="p">),</span>                                    
<span class="p">(</span><span class="mi">104</span><span class="p">,</span><span class="mi">108</span><span class="p">)]</span> 
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_fwf</span><span class="p">(</span><span class="s2">&quot;https://cdiac.ucsd.edu/ftp/ndp021/ndp021r1.f10&quot;</span><span class="p">,</span> <span class="n">colspecs</span><span class="o">=</span><span class="n">widths</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we must reset the column names accordingly</span>

<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;WBAN&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PWBAN&quot;</span><span class="p">,</span> <span class="s2">&quot;MON&quot;</span><span class="p">,</span>                                                                          
    <span class="s2">&quot;STNAME&quot;</span><span class="p">,</span> <span class="s2">&quot;YEAR&quot;</span><span class="p">,</span>                                                                              
    <span class="s2">&quot;JAN&quot;</span><span class="p">,</span> <span class="s2">&quot;FEB&quot;</span><span class="p">,</span> <span class="s2">&quot;MAR&quot;</span><span class="p">,</span> <span class="s2">&quot;APR&quot;</span><span class="p">,</span>                                                              
    <span class="s2">&quot;MAY&quot;</span><span class="p">,</span> <span class="s2">&quot;JUN&quot;</span><span class="p">,</span> <span class="s2">&quot;JUL&quot;</span><span class="p">,</span> <span class="s2">&quot;AUG&quot;</span><span class="p">,</span> <span class="s2">&quot;SEP&quot;</span><span class="p">,</span> <span class="s2">&quot;OCT&quot;</span><span class="p">,</span> <span class="s2">&quot;NOV&quot;</span><span class="p">,</span> <span class="s2">&quot;DEC&quot;</span><span class="p">,</span> <span class="s2">&quot;TOTAL&quot;</span><span class="p">]</span>

<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>WBAN</th>
      <th>PWBAN</th>
      <th>MON</th>
      <th>STNAME</th>
      <th>YEAR</th>
      <th>JAN</th>
      <th>FEB</th>
      <th>MAR</th>
      <th>APR</th>
      <th>MAY</th>
      <th>JUN</th>
      <th>JUL</th>
      <th>AUG</th>
      <th>SEP</th>
      <th>OCT</th>
      <th>NOV</th>
      <th>DEC</th>
      <th>TOTAL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>3103</td>
      <td>23166</td>
      <td>1</td>
      <td>AZ FLAGSTAFF</td>
      <td>1908</td>
      <td>237</td>
      <td>249</td>
      <td>326</td>
      <td>343</td>
      <td>399</td>
      <td>423</td>
      <td>325</td>
      <td>298</td>
      <td>308</td>
      <td>298</td>
      <td>279</td>
      <td>233</td>
      <td>3717</td>
    </tr>
    <tr>
      <td>1</td>
      <td>3103</td>
      <td>23166</td>
      <td>0</td>
      <td>AZ FLAGSTAFF</td>
      <td>1909</td>
      <td>235</td>
      <td>241</td>
      <td>300</td>
      <td>348</td>
      <td>385</td>
      <td>404</td>
      <td>302</td>
      <td>181</td>
      <td>299</td>
      <td>344</td>
      <td>256</td>
      <td>196</td>
      <td>3493</td>
    </tr>
    <tr>
      <td>2</td>
      <td>3103</td>
      <td>23166</td>
      <td>0</td>
      <td>AZ FLAGSTAFF</td>
      <td>1910</td>
      <td>232</td>
      <td>265</td>
      <td>314</td>
      <td>329</td>
      <td>401</td>
      <td>398</td>
      <td>303</td>
      <td>279</td>
      <td>313</td>
      <td>305</td>
      <td>259</td>
      <td>243</td>
      <td>3641</td>
    </tr>
    <tr>
      <td>3</td>
      <td>3103</td>
      <td>23166</td>
      <td>0</td>
      <td>AZ FLAGSTAFF</td>
      <td>1911</td>
      <td>178</td>
      <td>229</td>
      <td>229</td>
      <td>314</td>
      <td>420</td>
      <td>348</td>
      <td>241</td>
      <td>279</td>
      <td>241</td>
      <td>283</td>
      <td>268</td>
      <td>265</td>
      <td>3295</td>
    </tr>
    <tr>
      <td>4</td>
      <td>3103</td>
      <td>23166</td>
      <td>0</td>
      <td>AZ FLAGSTAFF</td>
      <td>1912</td>
      <td>274</td>
      <td>276</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
      <td>-99</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>14350</td>
      <td>4942</td>
      <td>0</td>
      <td>0</td>
      <td>ND ELLENDALE</td>
      <td>1928</td>
      <td>169</td>
      <td>200</td>
      <td>275</td>
      <td>325</td>
      <td>364</td>
      <td>332</td>
      <td>387</td>
      <td>331</td>
      <td>273</td>
      <td>189</td>
      <td>148</td>
      <td>172</td>
      <td>3164</td>
    </tr>
    <tr>
      <td>14351</td>
      <td>4942</td>
      <td>0</td>
      <td>0</td>
      <td>ND ELLENDALE</td>
      <td>1929</td>
      <td>172</td>
      <td>192</td>
      <td>205</td>
      <td>249</td>
      <td>350</td>
      <td>374</td>
      <td>375</td>
      <td>337</td>
      <td>151</td>
      <td>224</td>
      <td>144</td>
      <td>137</td>
      <td>2910</td>
    </tr>
    <tr>
      <td>14352</td>
      <td>4942</td>
      <td>0</td>
      <td>0</td>
      <td>ND ELLENDALE</td>
      <td>1930</td>
      <td>162</td>
      <td>174</td>
      <td>262</td>
      <td>268</td>
      <td>298</td>
      <td>366</td>
      <td>413</td>
      <td>322</td>
      <td>303</td>
      <td>163</td>
      <td>169</td>
      <td>140</td>
      <td>3039</td>
    </tr>
    <tr>
      <td>14353</td>
      <td>4942</td>
      <td>0</td>
      <td>0</td>
      <td>ND ELLENDALE</td>
      <td>1931</td>
      <td>188</td>
      <td>187</td>
      <td>210</td>
      <td>316</td>
      <td>311</td>
      <td>348</td>
      <td>385</td>
      <td>324</td>
      <td>298</td>
      <td>177</td>
      <td>171</td>
      <td>165</td>
      <td>3080</td>
    </tr>
    <tr>
      <td>14354</td>
      <td>4942</td>
      <td>0</td>
      <td>0</td>
      <td>ND ELLENDALE</td>
      <td>1932</td>
      <td>154</td>
      <td>199</td>
      <td>251</td>
      <td>216</td>
      <td>287</td>
      <td>374</td>
      <td>396</td>
      <td>320</td>
      <td>287</td>
      <td>159</td>
      <td>173</td>
      <td>192</td>
      <td>3008</td>
    </tr>
  </tbody>
</table>
<p>14355 rows × 18 columns</p>
</div>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now the <code>df.mean()</code> and <code>df.median</code> functions will give us the data we need based on measures of centrality discussed before.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;CA SAN DIEGO&#39;</span><span class="p">][</span><span class="s1">&#39;JAN&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>221.09278350515464</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;NY BUFFALO&#39;</span><span class="p">][</span><span class="s1">&#39;JAN&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>88.71134020618557</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;MO KANSAS CITY&#39;</span><span class="p">][</span><span class="s1">&#39;JAN&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>168.39175257731958</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;GA ATLANTA&#39;</span><span class="p">][</span><span class="s1">&#39;JAN&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>155.0</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;CO DENVER&#39;</span><span class="p">][</span><span class="s1">&#39;JAN&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>203.44329896907217</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;CA SAN DIEGO&#39;</span><span class="p">][</span><span class="s1">&#39;JAN&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>220.0</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;CA SAN DIEGO&#39;</span><span class="p">][</span><span class="s1">&#39;JAN&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>count     97.000000
mean     221.092784
std       32.798019
min      150.000000
25%      199.000000
50%      220.000000
75%      247.000000
max      283.000000
Name: JAN, dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Given our small sample of cities, we can see that San Diego and Denver are the sunniest places in January (<em>hisorically</em>), but of course, there are even sunnier places and it will be an exercise for the curious to find out where the data leads.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="EXPECTED-VALUE">EXPECTED VALUE<a class="anchor-link" href="#EXPECTED-VALUE"> </a></h3><p>We have shown that the mean of data is expressed as the <em>average</em> of all its values, but we can also develop the concept of mean using probabilities.</p>
<p>Said another way, the <em>expected value</em> of data $X$,</p>
$$E[X] = { {\sum_{x \in X}} x \Pr(x) } $$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will note that when the probabilities are the uniform for all $x$, that is $Pr(x) = \frac{1}{\lvert X \rvert}$,  then $E[X]$ is the arithmetic mean $\bar{X}$ or</p>
$$E[X] = { 1 \over n } { \sum_{x \in X} x }  $$<p>where $n = \frac{1}{\lvert X \rvert}$.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As a side note on the basics of probability, let $E$ be a random event in an event space $S$.  The probability of $E \in S$ is denoted $\Pr(E)$ and the following also hold true:</p>
<ul>
<li>$\Pr(E) \in \mathbb{R}^n$</li>
<li>$\Pr(E) \ge 0;  \forall E \in S$</li>
<li>$\Pr(E) + \Pr(\neg E) = 1$</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DISTANCE-AND-SIMILARITY">DISTANCE AND SIMILARITY<a class="anchor-link" href="#DISTANCE-AND-SIMILARITY"> </a></h2><p>Now that we have a notion of centrality out of the way, let's retrain our focus on two other important concepts, <em>distance</em> and <em>similarity</em>.  If we retrain our focus back on a dataset $D$, composed of $n$ data points and $m$ features $f_1, f_2, \ldots, f_m$, let's also assume (for now) all the features are numeric features.  Let's also bring in some convenient notation again and express 
 each data point as a vector of features $\mathbf{d_i}$ written as
$$
D = \begin{bmatrix}
        \mathbf{d_1} \\[0.3em]
        \mathbf{d_2} \\[0.3em]
            \vdots \\[0.3em]
        \mathbf{d_n} \\[0.3em]
    \end{bmatrix}.
$$</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Suppose an arbitrary $i$ and $j$  when $i,j \le n$ 
what is the <em>distance</em> from $\mathbf{d_i}$ and $\mathbf{d_j}$?  Another way of looking at <em>distance</em> is to consider it a way to express <em>similarity</em>.  The more similar two vectors are, the smaller their distance.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Euclidean-distance:-straight-line-distance">Euclidean distance: straight line distance<a class="anchor-link" href="#Euclidean-distance:-straight-line-distance"> </a></h3><p>One of the most important, fundamental and commonly used distance metrics over numeric data is <strong>Euclidean</strong> distance or also known as the <strong>Euclidean metric</strong>.  Euclidean distance provides the <em>straight line</em> distance between points in 1 and 2 dimensions.  But what about when there are more than two dimensions?  Euclidean can provide the pairwise squared difference over $n$ dimensions quite easily as you will see in the examples below.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In our examples below, we'll use $\mathbf{x}$ and $\mathbf{y}$ to denote $\mathbf{d_i}$ and $\mathbf{d_j}$, respectively.</p>
<p>Let $\mathbf{x} = (1, 2)$ and $\mathbf{y} = (2,3)$</p>
<p>The <strong>Euclidean distance</strong> is $$\sqrt{ {({x}_{1} - {y}_{1}})^2  + ({x}_{2} - {y}_{2})^2} = 1$$</p>
<p>... and this generalizes to the form we will more commonly use</p>
$$d_{euclidean}(\mathbf{x},\mathbf{y}) = \sqrt{ ({x}_{i} - {y}_{j})^2  + \cdots +({x}_{n} - {y}_{n})^2 }$$<p>or more succinctly</p>
$$ d_{euclidean}(\mathbf{x},\mathbf{y}) = \sqrt { \sum_{i=1}^{n} \big( x_{i} - y_{i} \big)^2 } $$<p>and in more familiar vector dot notation the <em>Euclidean norm</em></p>
$$\lvert \mathbf{x} - \mathbf{y} \rvert = \sqrt{(\mathbf{x} - \mathbf{y}) \cdot (\mathbf{x} - \mathbf{y})}$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Euclidean is but one of several distance metrics available to us, here are some others ...</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Manhattan-Distance:-Rectilinear-distance">Manhattan Distance: Rectilinear distance<a class="anchor-link" href="#Manhattan-Distance:-Rectilinear-distance"> </a></h4><p>Another useful distance metrics</p>
<ul>
<li>the rectilinear "taxi cab" distance between two points.</li>
<li>the Manhattan distance of two points is equal to sum of length the horizontal and vertical distances (contrast with the diagonal or "crows flies" distance").</li>
</ul>
$$ d_{manhattan}(\mathbf{x},\mathbf{y}) = \sum_{i=1}^N \lvert x_i - y_i \rvert$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="01_assets/Manhattan_distance.svg"/></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Minkoski-Distance">Minkoski Distance<a class="anchor-link" href="#Minkoski-Distance"> </a></h4><ul>
<li>generalized distance metric where generally $1 \lt p \le 2$</li>
<li>when $p=2$ Minkoski is the Euclidean distance, </li>
<li>and when $p=1$ it is the Manhattan distance</li>
</ul>
$$ d_{minkowski}(\mathbf{x},\mathbf{y}) =
\big(
\sum_{i=1}^n { \big| x_i - y_i \big| }^p
\big)^{1/p}
$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Mahalanobis-distance">Mahalanobis distance<a class="anchor-link" href="#Mahalanobis-distance"> </a></h4><ul>
<li>a unitless, scale-invariant distance metric </li>
<li>accounts for the number of standard deviations a vector is from the mean of the dataset $D$</li>
<li>Mahalanobis accounts for correlations in a data set and can be valuable in detecting outliers</li>
</ul>
<p>This measurement can be used as a similarity metric when comparing two data vectors $\mathbf{x}$ and $\mathbf{y}$.</p>
$$ d_{mahalanobis}(\mathbf{x}, \mathbf{y}) =  \sqrt { (\mathbf{x}-\mathbf{y})^{T} S^{-1} (\mathbf{x}-\mathbf{y}) }
$$<p>with $S$ the covariance matrix.  We will re-visit this metric and explore the details of the implementation.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Example">Example<a class="anchor-link" href="#Example"> </a></h3><p>Let's take a look again at our sunshine data.  Let's say we wanted to know how similar the <em>annual monthly sunshine</em> was for two cities.  Of course, in this simple example, we could just look at this</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="k">import</span> <span class="n">pairwise_distances</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">buf</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;NY BUFFALO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;JAN&#39;</span><span class="p">:</span><span class="s1">&#39;DEC&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">den</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;CO DENVER&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;JAN&#39;</span><span class="p">:</span><span class="s1">&#39;DEC&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">sdc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;CA SAN DIEGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;JAN&#39;</span><span class="p">:</span><span class="s1">&#39;DEC&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">dgc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;KS DODGE CITY&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;JAN&#39;</span><span class="p">:</span><span class="s1">&#39;DEC&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">wdc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">STNAME</span> <span class="o">==</span> <span class="s1">&#39;DC WASHINGTON&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;JAN&#39;</span><span class="p">:</span><span class="s1">&#39;DEC&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pairwise_distances</span><span class="p">([</span><span class="n">buf</span><span class="p">,</span> <span class="n">den</span><span class="p">,</span> <span class="n">sdc</span><span class="p">,</span> <span class="n">dgc</span><span class="p">,</span> <span class="n">wdc</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0.00000000e+00, 2.49594755e+02, 2.99607324e+02, 2.72551918e+02,
        1.33318229e+02],
       [2.49594755e+02, 1.52587891e-05, 8.55007053e+01, 6.11591602e+01,
        1.34919750e+02],
       [2.99607324e+02, 8.55007053e+01, 0.00000000e+00, 1.21399874e+02,
        1.73492922e+02],
       [2.72551918e+02, 6.11591602e+01, 1.21399874e+02, 0.00000000e+00,
        1.75868208e+02],
       [1.33318229e+02, 1.34919750e+02, 1.73492922e+02, 1.75868208e+02,
        0.00000000e+00]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To make this a bit easier to read, we'll convert it to a Pandas DatFrame and create a distance table showing the distance from each city to one another:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pairwise_distances</span><span class="p">([</span><span class="n">buf</span><span class="p">,</span> <span class="n">den</span><span class="p">,</span> <span class="n">sdc</span><span class="p">,</span> <span class="n">dgc</span><span class="p">,</span> <span class="n">wdc</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">),</span> 
             <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;BUFFALO&#39;</span><span class="p">,</span> <span class="s1">&#39;DENVER&#39;</span><span class="p">,</span> <span class="s1">&#39;SAN DIEGO&#39;</span><span class="p">,</span> <span class="s1">&#39;DODGE CITY&#39;</span><span class="p">,</span> <span class="s1">&#39;WASH DC&#39;</span><span class="p">],</span>
             <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;BUFFALO&#39;</span><span class="p">,</span> <span class="s1">&#39;DENVER&#39;</span><span class="p">,</span> <span class="s1">&#39;SAN DIEGO&#39;</span><span class="p">,</span> <span class="s1">&#39;DODGE CITY&#39;</span><span class="p">,</span> <span class="s1">&#39;WASH DC&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>BUFFALO</th>
      <th>DENVER</th>
      <th>SAN DIEGO</th>
      <th>DODGE CITY</th>
      <th>WASH DC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BUFFALO</td>
      <td>0.000000</td>
      <td>249.594755</td>
      <td>299.607324</td>
      <td>272.551918</td>
      <td>133.318229</td>
    </tr>
    <tr>
      <td>DENVER</td>
      <td>249.594755</td>
      <td>0.000015</td>
      <td>85.500705</td>
      <td>61.159160</td>
      <td>134.919750</td>
    </tr>
    <tr>
      <td>SAN DIEGO</td>
      <td>299.607324</td>
      <td>85.500705</td>
      <td>0.000000</td>
      <td>121.399874</td>
      <td>173.492922</td>
    </tr>
    <tr>
      <td>DODGE CITY</td>
      <td>272.551918</td>
      <td>61.159160</td>
      <td>121.399874</td>
      <td>0.000000</td>
      <td>175.868208</td>
    </tr>
    <tr>
      <td>WASH DC</td>
      <td>133.318229</td>
      <td>134.919750</td>
      <td>173.492922</td>
      <td>175.868208</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What have we learned here?  It looks like with the sample data we have, Denver and Dodge City have similar sunshine profiles &mdash; their distance is 61.15, and the closer the 0, the more similar they are.  Also, we find Denver is similar to San Diego, which is interesting, given Denver has winter weather while San Diego does not.  Finally, Buffalo is similar to Washington, DC, but not as similar as one might expect.  Indeed, of places with winter, it looks like Buffalo is the least sunny, assuming San Diego is typically sunny, being a coastal climate with average annual temperatures in the 70s.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What-about-data-that-may-not-be-numeric?">What about data that may not be numeric?<a class="anchor-link" href="#What-about-data-that-may-not-be-numeric?"> </a></h3><p>We said before that Euclidean derives it's data over $\mathbb{R}$, but of course the world of data is not restricted to real numbers and indeed the most interesting problems are often not numerically represented, <em>natively</em>.  Take for example, strings or words that make up the English language.  How would we compare something like the words "word" and "work".  Upon visual inspection, you would immediately say these two words are much closer to one another than say "work" and "sort".  Why?</p>
<p>One distance metric that is commonly used to convert works to comparable things is <em>Hamming Distance</em>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="HAMMING-DISTANCE">HAMMING DISTANCE<a class="anchor-link" href="#HAMMING-DISTANCE"> </a></h4><p>Hamming distance is an import metric that sums the positional differences between two vectors of the same length.  That is to say, given two vectors $v_1$ and $v_2$ with $\lvert v_1 \rvert = \lvert v_2 \rvert$, the Hamming distance 
counts the positional differences between $v_1$ and $v_2$.  This is important because, for two words that are the same length, Hamming can be useful in comparing how many positions they differ by and act as a measure of similarity.</p>
<p>Let's look at a few examples.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Numeric Vector Example</strong></p>
<ul>
<li><p>consider two <strong>numeric vectors</strong></p>
<p>$v_1 = (1,2,3,5)$ and $v_2 = (1,3,3,5)$</p>
<ul>
<li>since they differ in only one position (the second), the Hamming distance is 1 </li>
</ul>
</li>
</ul>
<p><strong>Binary Vector Example</strong></p>
<p>Hamming distance becomes  useful even for  binary vectors:</p>
<ul>
<li><p>consider two <strong>binary vectors</strong></p>
<p>$v_1 = (1,0,0,1)$ and $v_2 = (0,0,0,0)$</p>
<ul>
<li>Hamming distance is 2 since the first and last position are different </li>
</ul>
</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>String Example</strong></p>
<ul>
<li>consider two words, "firth" and "froth"<ul>
<li>Hamming distance is 2, since the 2nd and third position are different</li>
</ul>
</li>
</ul>
<ul>
<li>consider "forth" and "great"<ul>
<li>Hamming distance is 5, since none of the positions are in common</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In <code>sklearn</code> we can use the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.pairwise_distances.html"><code>pairwise_distances</code></a> as before and set the <code>metric=hamming</code>.  The computation in <code>sklearn</code> is 
$$ \frac{ n_{equal}(v_0, v_1) } { \lvert v_0 \lvert } $$</p>
<p>where $n_{equal}$ is the number of positions vectors $v_0$ and $v_1$ are the same.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="k">import</span> <span class="n">pairwise_distances</span>

<span class="n">v0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">v1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="n">pairwise_distances</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;hamming&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0.  , 0.25],
       [0.25, 0.  ]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">v0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">v1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="n">pairwise_distances</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;hamming&#39;</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 5.],
       [5., 0.]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To convert the <code>sklearn</code> Hamming distance to the one in our original definition above, we'd need to multiply the result by $\lvert v_0 \rvert$ or <code>len(v0)</code>.  Thus,</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pairwise_distances</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;hamming&#39;</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 4.],
       [4., 0.]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Hamming distance and strings</strong></p>
<p>Now before, we talked about strings being a nice use case for Hamming, at least to determine the pairwise absolute differences.  But the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.pairwise_distances.html"><code>pairwise_distances</code></a> method takes a vector of numbers, so how would we convert the string into a <em>comparable</em> string of numbers.</p>
<p>Python has a very useful <a href="https://docs.python.org/3/library/functions.html">built-in</a> function called <a href="https://docs.python.org/3/library/functions.html#ord"><code>ord()</code></a> which takes as input a single character and returns it's unique integer Unicode point.  This will be a simple, quick and useful way of converting any string to a number and thus allowing us to convert a string of characters into a string of integers.</p>
<p>Let's now see how we can do this.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># convert a string to a list of integers</span>
<span class="k">def</span> <span class="nf">str_to_int_list</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we have this function, we can proceed.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;placing&#39;</span><span class="p">,</span> <span class="s1">&#39;spacing&#39;</span><span class="p">]</span>

<span class="n">v0</span> <span class="o">=</span> <span class="n">str_to_int_list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">v1</span> <span class="o">=</span> <span class="n">str_to_int_list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">pairwise_distances</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;hamming&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0.        , 0.28571429],
       [0.28571429, 0.        ]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notice the strings only differ in the first two positions.  Recall, the closer the distance is to 0, the more similar two strings are.  Converting to our original definition of Hamming where the result is an integer value $\ge 0$,</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pairwise_distances</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;hamming&#39;</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 2.],
       [2., 0.]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="More-binary-vectors">More binary vectors<a class="anchor-link" href="#More-binary-vectors"> </a></h3><p>Recall, we have a real need to be concerned about binary vectors since</p>
<ol>
<li>in our digital world, many data can be converted to binary features (e.g. images, texts, audio, etc.), and</li>
<li>the <em>algorithmic performance</em> of binary vectors, while not human readable, trumps any non-binary representation.</li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's consider two vectors  $v_0 = (0, 1, 0, 1, 1)$ and $v_1 = (1, 1, 0, 0, 0)$.</p>
<p>We used Hamming to give us a notion of the "distance" or "difference" between these vectors, but that distance was <em>pairwise</em>, meaning, there was no way to intuit their distance holistically.  That is to say, <em>how many</em> 1's and 0's do they differ by.  Recalling our string example, it is also quite restrictive to consider only those strings with the same character count.  What would we say if we were to consider the number of <em>characters</em> they have in common?  Hamming is of no use as it has been presented here.  Or is it?  What if we take a different approach and vectorize the characters.  For example, the words "greater" and "<a href="https://www.thefreedictionary.com/regrate">regrate</a>" have all the same letters, yet there Hamming distance is 7 (i.e. the have no positions in common).</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="k">import</span> <span class="n">pairwise_distances</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;greater&#39;</span><span class="p">,</span> <span class="s1">&#39;regrate&#39;</span><span class="p">]</span>

<span class="n">v0</span> <span class="o">=</span> <span class="n">str_to_int_list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">v1</span> <span class="o">=</span> <span class="n">str_to_int_list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">pairwise_distances</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;hamming&#39;</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 7.],
       [7., 0.]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>One way to deal with that is to map each letter as a feature in the vector, then compute the Hamming distance:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="k">import</span> <span class="n">CountVectorizer</span>

<span class="n">count_vectorizer</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="n">tokenizer</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">count_vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[1, 1, 1, 1, 1],
       [1, 1, 1, 1, 1]], dtype=int64)</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pairwise_distances</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;hamming&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 0.],
       [0., 0.]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Wow!  Notice that we still use <code>ord()</code>, we just pass it in to <a href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html"><code>CountVectorizer</code></a>.  You will benefit from looking at that method more closely as it is critically important in text analysis.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Further-for-binary-similarity">Further for binary similarity<a class="anchor-link" href="#Further-for-binary-similarity"> </a></h4><p>Turning back to pairwise similarity of <em>binary vectors</em>, let's take our intuitions further to ask a set of deeper questions:</p>
<ul>
<li>How many times do they agree in the same pairwise position (they are both <code>1</code> or <code>True</code>?</li>
<li>How many times do they disagree?</li>
<li>How many times are they <code>False</code> together?</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>These questions will lead us to another metric that is built upon the answers to these questions.  We will first introduce the concept of a contigency table, then introduce the similarity metric.</p>
<h4 id="Contigency-Table">Contigency Table<a class="anchor-link" href="#Contigency-Table"> </a></h4><p>A contigency table as we will use it here is a 2x2 table consistenting of cells that map to the attributes of two binary vectors $v_0 = X$ and $v_1 = Y$.  We are going to use our intuitions from above to compute the contingency matrix like so:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
  <tr>
    <td colspan=2/>
    <th colspan=2 style="text-align:center">A</th>
  </tr>
    <td colspan=2></td>
    <td style="text-align:center">True<br></td>
    <td style="text-align:center">False<br></td>
  </tr>
  <tr>
    <td rowspan=2><b>B</b></td>
    <td>True</td>
    <td>M11 = # attributes True<br>in both X and Y<br></td>
    <td>M01 = # attributes where <br>X is False and <br>Y is True<br></td>
  </tr>
  <tr>
    <td>False</td>
    <td>M10 = # attributes where<br>X is True and<br>Y is False<br></td>
    <td>M00 = # attributes False <br>in both X and Y<br></td>
  </tr>
</table>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="JACCARD-SIMILARITY">JACCARD SIMILARITY<a class="anchor-link" href="#JACCARD-SIMILARITY"> </a></h4><p>This contigency table forms the basis of our next metric, <strong>Jaccard Similarity</strong>. Jaccard is important because it is efficient, robust and used frequently in binary similarity metrics.</p>
<p>Formally,</p>
$$ jaccard_{sim}(X, Y) = { {M_{11}(X,Y) } \over {M_{10}(X,Y) + M_{01}(X,Y) +  M_{11}(X,Y)} }$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="k">import</span> <span class="n">jaccard_similarity_score</span>

<span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">Y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>


<span class="n">jaccard_similarity_score</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.6666666666666666</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Looking at the contigency matrix: $M_{00} = 0$, $M_{01} = 1$, $M_{11} = 2$ and $M_{10} = 0$.  Thus,</p>
$$\frac{2}{0 + 1 + 2} = \frac{2}{3} = 0.\overline{6}$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Other metrics can be found in <code>sklearn.metrics</code> for nearly every practical distance metric needed.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Dispersion-and-Disorder">Dispersion and Disorder<a class="anchor-link" href="#Dispersion-and-Disorder"> </a></h2><p>We turn our attention to other measures of understanding data, specifically dispersion and disorder.  By dispersion, we .</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Statistical-Background-:-Variance,-Covariance,-Standard-Deviation">Statistical Background : Variance, Covariance, Standard Deviation<a class="anchor-link" href="#Statistical-Background-:-Variance,-Covariance,-Standard-Deviation"> </a></h3><p>In your exposure to statistics, you might have come across the concept of <em>population</em> statistic or <em>sample</em> statistic.  As the words imply, <em>population</em> statistic includes all the data and <em>sample</em> involves a (most often random) subset of the data, though a sample could include the entire dataset and could include multiple samples from the same dataset.</p>
<p>Terminology to indicate a <em>measureable</em> characteristic of a <em>population</em> is called a <strong>parameter</strong>.  You'll see this term commonly occur in statistical literature.  Further, a measureable characteristic of a <em>sample</em> is called a <strong>statistic</strong>. If you ever get confused, just remember if you can measure the characteristic for <strong>all</strong> data points, it is a parameter.  If not, it is a statistic.  Often we are not able to compute population parameters, for example, it may not be possible or even economically feasible to ask adult in the US if they watched more than 1 hour of television last night, but it would be very possible to compile a sample statistic over a random sample of say 10% of the adult population, and if the random sample was selected truly randomly, the outcome might likely <em>estimate</em> the population parameter accurately.  In our current big data era, and with the technologies now available to gather large amounts of complete data (sometimes unknowningly by the end user), population parameters are becoming easier to obtain.</p>
<p>When we talked earlier about mean, we were talking about the mean of the entire dataset, and you'll notice we used $\mu$ to denote the mean.  Now that we have introduced the concept of a sample, we will use slightly different notation.  The mean of a sample (or the mean statistic) is denoted $\bar{X}$, while the population mean is still denoted $\mu$.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Two  measures of <em>dispersion</em> of a dataset are <strong>variance</strong> and <strong>standard deviation</strong>.  They both tell us the spread of the data and are useful in understanding the variability in underlying data in ways that mean alone cannot.</p>
<p>Variance computes the average squared of distance from the mean over all data points.  If $X$ is a population, the variance of $X$ is:</p>
$$var_X = { {1 \over n} {\sum_{}^n (x_i - \mu)^2} }$$<p>If $X$ is a sample, $x \in X$ and $n = \lvert X \rvert$, the variance is:
$$var_X = { {1 \over {n-1}} {\sum_{}^n (x_i - \bar{X})^2} }$$</p>
<p>where $\bar{X}$ is the mean of the sample.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Standard deviaton is the square root of variance, and is a good indicator of the spread of the data that brings the data back into the units of the original data.</p>
$$\sigma_X = \sqrt {var_X}$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Statistical-Background:-Joint-Probability">Statistical Background: Joint Probability<a class="anchor-link" href="#Statistical-Background:-Joint-Probability"> </a></h3><p>Probability will become an integral part of data mining activities, so its a good idea to review some of the basics of joint probability first.</p>
<ul>
<li>let $x$ and $y$ be <strong><em>independent events</em></strong> in the event space $S$, $x,y \in S$</li>
<li>the <strong>joint probability</strong> of $x, y$ is denoted $\Pr(x,y)$ or $\Pr(x \wedge y)$</li>
<li>and is defined as 
$$ \Pr(x,y) = \Pr(x) \cdot \Pr(y)$$</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's play with an example to make these concepts more concrete.</p>
<p>We will use a dataset <a href="https://raw.githubusercontent.com/bluenex/WekaLearningDataset/master/bank/bank-data.csv">https://raw.githubusercontent.com/bluenex/WekaLearningDataset/master/bank/bank-data.csv</a> that has data points from a sample mortgage application data from a bank.  As you will see is has a number of interesting features: gender, income, martial status, etc.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/bluenex/WekaLearningDataset/master/bank/bank-data.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>sex</th>
      <th>region</th>
      <th>income</th>
      <th>married</th>
      <th>children</th>
      <th>car</th>
      <th>save_act</th>
      <th>current_act</th>
      <th>mortgage</th>
      <th>pep</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>ID12101</td>
      <td>48</td>
      <td>FEMALE</td>
      <td>INNER_CITY</td>
      <td>17546.0</td>
      <td>NO</td>
      <td>1</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
      <td>YES</td>
    </tr>
    <tr>
      <td>1</td>
      <td>ID12102</td>
      <td>40</td>
      <td>MALE</td>
      <td>TOWN</td>
      <td>30085.1</td>
      <td>YES</td>
      <td>3</td>
      <td>YES</td>
      <td>NO</td>
      <td>YES</td>
      <td>YES</td>
      <td>NO</td>
    </tr>
    <tr>
      <td>2</td>
      <td>ID12103</td>
      <td>51</td>
      <td>FEMALE</td>
      <td>INNER_CITY</td>
      <td>16575.4</td>
      <td>YES</td>
      <td>0</td>
      <td>YES</td>
      <td>YES</td>
      <td>YES</td>
      <td>NO</td>
      <td>NO</td>
    </tr>
    <tr>
      <td>3</td>
      <td>ID12104</td>
      <td>23</td>
      <td>FEMALE</td>
      <td>TOWN</td>
      <td>20375.4</td>
      <td>YES</td>
      <td>3</td>
      <td>NO</td>
      <td>NO</td>
      <td>YES</td>
      <td>NO</td>
      <td>NO</td>
    </tr>
    <tr>
      <td>4</td>
      <td>ID12105</td>
      <td>57</td>
      <td>FEMALE</td>
      <td>RURAL</td>
      <td>50576.3</td>
      <td>YES</td>
      <td>0</td>
      <td>NO</td>
      <td>YES</td>
      <td>NO</td>
      <td>NO</td>
      <td>NO</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's see what is the $\Pr(sex = \mathrm{FEMALE})$?</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="s1">&#39;FEMALE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sex</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">sex</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.5</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>and now we can gather that $\Pr(sex = \mathrm{MALE}) = 1 - \Pr(sex = \mathrm{FEMALE}) = 0.5$.  So already, in exploring this dataset, we have an equal number of men to women.</p>
<p>What about marital status or formally, $\Pr( married = \mathrm{YES})$?</p>
<p>We will use the <code>describe()</code> function to get a basic understanding of the underlying data.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">married</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>count     600
unique      2
top       YES
freq      396
Name: married, dtype: object</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">married</span> <span class="o">==</span> <span class="s1">&#39;YES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">married</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="c1"># 396</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.66</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>and now what's the  <strong>joint probability</strong> of <em>married</em> and <em>female</em> (assume independence &mdash; that is being female doesn't depending on being married)?</p>
\begin{align*}
\Pr(married = \mathrm{YES} \wedge sex = \mathrm{FEMALE}) &amp;= \Pr(married = \mathrm{YES}) \cdot \Pr(sex = \mathrm{FEMALE}) \\
                                       &amp;= \frac{396}{600} \cdot \frac{300}{600}  \\
                                       &amp;= \frac{118,800}{360,000} \\
                                       &amp;= 0.33
\end{align*}<p>so $0.33 \times 600 = 198$.  Which is the number of customers we should see who are married females if these events are independent.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">3</span><span class="o">/</span><span class="mi">51</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.058823529411764705</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conditional-Probability">Conditional Probability<a class="anchor-link" href="#Conditional-Probability"> </a></h3><p>What if we are interested in probabilities of events that are dependent on one another.  The canonical example of this is non-replacement drawing of playing cards.  Since every draw of a card reduces the probability of a color and suit, the probabilities change after each draw.</p>
<p>In a normal deck the probability of a king is 4/52 (there is a king for each suit).  Thus, if your first draw is a king, then the probability of drawing a king drops to 3/51.</p>
<p>Conditional probability is then defined by :</p>
$$
\Pr(x|y) = \frac{\Pr(x \wedge y)}{\Pr(y)}
$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can arrive back at the <strong>joint probability</strong> when events are <em>dependent</em>:</p>
$$
\Pr(x \wedge y) = \Pr(x|y) \cdot \Pr(y) 
$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>That may have been a bad assumption ... while close, we are off by 3, indicating these two event may not entirely be independent.</p>
<p>When NOT independent the <strong>joint probability</strong> $\Pr(x,y)$ is defined as 
$$ \Pr(x,y) = \Pr(x) \cdot \Pr(y \text{ } \big| \text{ }x)$$</p>
<p>Where we write $\Pr(y \text{ } \big| \text{ }x)$, we mean the "probability of $y$ given $x$".  That is, we assume $y$ is true, and we find the probability of $x$ conditional on that.</p>
<!--
Thus, the **conditional probability**

$$\Pr(y \big| x ) = \frac{\Pr(x  \wedge  y)}{\Pr(x)}$$
-->
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, let's <strong>not</strong> assume independence so the joint probability of <em>married</em> and <em>female</em>?</p>
$$
\begin{align*}
\Pr(married = \mathrm{YES} \wedge sex = \mathrm{FEMALE}) &amp;= \Pr(married = \mathrm{YES}) \cdot \Pr(sex = \mathrm{FEMALE} \text{ }\big| \text{ } married = \mathrm{YES}) \\
                                       &amp;= \frac{396}{600} \cdot \frac{195}{396}  \\
                                       &amp;= \frac{195}{600} \\
                                       &amp;= 0.325
\end{align*}
$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">car</span> <span class="o">==</span> <span class="s1">&#39;YES&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id             0.493333
age            0.493333
sex            0.493333
region         0.493333
income         0.493333
married        0.493333
children       0.493333
car            0.493333
save_act       0.493333
current_act    0.493333
mortgage       0.493333
pep            0.493333
dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Marginal-Probability">Marginal Probability<a class="anchor-link" href="#Marginal-Probability"> </a></h3><p>Mariginal probabilities allow us to answer questions across random variables.  Like, the probability of owning a car or $\Pr(Car)$.  To compute this marginal probability, we  sum the  probabilities across the relevant "in the margins" which represent the sum of a row or column. The table below shows the marginal probabilities in bold.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
<thead><tr>
<th></th>
<th>Female</th>
<th>Male</th>
<th>--</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Car</strong></td>
<td>$0.245$</td>
<td>$0.24833$</td>
<td><strong>$\mathbf{0.493333}$</strong></td>
</tr>
<tr>
<td><strong>No Car</strong></td>
<td>$0.255$</td>
<td>$0.251667$</td>
<td>$\mathbf{0.506667}$</td>
</tr>
<tr>
<td></td>
<td>$\mathbf{0.50}$</td>
<td>$\mathbf{0.50}$</td>
<td>$\mathbf{1.00}$</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>see that
$$\Pr(Car) = \Pr(Car \wedge Male) + \Pr(Car \wedge Female)$$</p>
<p>and 
$$\Pr(Female) = \Pr(Car \wedge Female) + \Pr(No Car \wedge Female)$$</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Generalizing:</p>
<ul>
<li>Given random variables $X$ and $Y$</li>
<li>the marginal probability of $X$ is $\Pr(X) = \Pr(X \wedge Y) + \Pr(X \wedge \neg Y)$</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">car</span> <span class="o">==</span> <span class="s1">&#39;YES&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="s1">&#39;MALE&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id             0.248333
age            0.248333
sex            0.248333
region         0.248333
income         0.248333
married        0.248333
children       0.248333
car            0.248333
save_act       0.248333
current_act    0.248333
mortgage       0.248333
pep            0.248333
dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">car</span> <span class="o">==</span> <span class="s1">&#39;YES&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="s1">&#39;FEMALE&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id             0.245
age            0.245
sex            0.245
region         0.245
income         0.245
married        0.245
children       0.245
car            0.245
save_act       0.245
current_act    0.245
mortgage       0.245
pep            0.245
dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">car</span> <span class="o">==</span> <span class="s1">&#39;NO&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="s1">&#39;MALE&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id             0.251667
age            0.251667
sex            0.251667
region         0.251667
income         0.251667
married        0.251667
children       0.251667
car            0.251667
save_act       0.251667
current_act    0.251667
mortgage       0.251667
pep            0.251667
dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see our calculations check out.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Entropy">Entropy<a class="anchor-link" href="#Entropy"> </a></h3><p>One concept that we should have a good understanding of when dealing with data and also a concept that reveals the underlying predictability of data is <strong>entropy</strong>. Entropy gives us a measure of how predictable (uncertain) a dataset is, and it provides us a way to measure disorder or randomness in data.  The less entropy, the more orderly or predictable a dataset is.</p>
<p>Entropy is thus defined by:</p>
$$ H(X) = - \sum_{x \in X} \Pr(x) \log \Pr(x) $$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Mutual-Information">Mutual Information<a class="anchor-link" href="#Mutual-Information"> </a></h3><p><strong>Mutual information</strong>, like entropy gives us a way to measure order and uncertainty, so allowing us to understand how  knowing X reduces the uncertainty in Y.  It is similar to entropy but computes the joint probabilities over all $x$ and $y$ in a dataset</p>
$$I(X;Y) = \sum_{y \in Y} \sum_{x \in X} {\Pr(x,y) \log{ \bigg( \frac{\Pr(x,y)}{\Pr(x)\Pr(y)} \bigg)}}$$<p>where $\Pr(x,y)$ is the joint probability and $\Pr(x)$ and $\Pr(y)$ marginal probabilities.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>notice than when $X$ and $Y$ are independent, <ul>
<li>$\Pr(x,y) = \Pr(x)\Pr(y)$ </li>
<li>and thus $\log{ \bigg( \frac{\Pr(x,y)}{\Pr(x)\Pr(y)} = 1 \bigg)} = 0$</li>
<li>so $I(X;Y) = 0$</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Association">Association<a class="anchor-link" href="#Association"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Statistical-Background-:-Covariance">Statistical Background : Covariance<a class="anchor-link" href="#Statistical-Background-:-Covariance"> </a></h3><p>Covariance and correlation are two measures that allow us to understand how two (or more) variables are related to one another.  The first of which, covariance, covariance is a measure of how two variables $X$ and $Y$ vary together with one another.  That is to say,  positive covariance indicates the variables increase together (e.g. time doing homework and final grade) and negative covariance indicates when one variable increase, the other decreases (e.g. exercise and weight).</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Covariance $cov_{XY}$ is just the sum of the product of  random variables $X = \{x_1, x_2, \ldots, x_n\}$ and $Y = \{ y_1, y_2, \ldots, y_n \}$ as they relate to their sample means,</p>
$$cov_{XY} = { {1 \over n } {\sum_{i=1}^n (x_i - \bar{X})(y_i - \bar{Y})} }. $$<p>Covariance is an apt indicator of the relationship between two variables, but the magnitude of that relationship is not easily interpreted by covariance, thus, we will use another tool: correlation.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Patterns-Revisited:-Correlation">Patterns Revisited: Correlation<a class="anchor-link" href="#Patterns-Revisited:-Correlation"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's revisit our bank dataset again and plot the <strong>age</strong> of the customers to their <strong>income</strong>.  Intuitively, one my say something like "the older people are, the more money they make".  While this may <em>seem</em> true and intuitive, we don't need to guess -- we already have data to support or refute the claim.</p>
<p>Let's take a look</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df_bank</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/bluenex/WekaLearningDataset/master/bank/bank-data.csv&quot;</span><span class="p">)</span>
<span class="n">df_bank</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;income&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;scatter&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7ff201100668&gt;</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="images/01_distance_and_similarity_117_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Looking at this data plot, what can we observe?  Sans a few outliers, in general one's income goes up with age.  But notice another phenomenon?  The range of income also increases with age.  Income ranges are tighter in the eatlier years, while they get much wider the older one gets.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To explore this more formally, we will use <strong>correlation</strong> to focus on a precise statistical description of the phenomenon.  One of the most important and widely used of the correlation measures is Pearson's correlation (aka Pearson's product-moment, aka "Pearson's $r$").  Though there are there are several other popular correlation measures, we'll focus on Pearson's correlation since it is the most common.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Pearson's correlation</strong> is defined  as</p>
$$\rho_{XY} = { cov_{XY} \over { \sigma_X } { \sigma_Y } }. $$<p>You may also see this denoted as simply $r$.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>$-1 \le r  \le 1$</li>
<li>if $r = 0$ then there is <em>no correlation</em> between $X$ and $Y$</li>
<li>if $r = 1$, then $X$ and $Y$ are have a <em>strong positive correlation</em>, that is when $X$ increases $Y$ increases</li>
<li>if $r = -1$ then there is a <em>strong negative correlation</em> between $X$ and $Y$, that is when $Y$ decreases, $X$ increases.</li>
<li>everything in between represents varying levels of <em>positive</em> and <em>negative</em> correlation</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">pearsonr</span>

<span class="n">pearsonr</span><span class="p">(</span><span class="n">df_bank</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">df_bank</span><span class="o">.</span><span class="n">income</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(0.75272616062786, 1.166806976120496e-110)</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The ouput is a tuple returning the $r$ value and the two-tailed $p$ value.  With $r$ very high (close to 1), we can say that with the data we have, income and age are strongly correlated.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>A warning about correlation</strong>.  Though there may be a strong correlation between two variables, we must always remember that such <strong>correlation DOES NOT IMPLY CAUSATION</strong>.  In the example, we have here, one might be tempted to say that <em>age</em> is the <em>reason</em> why incomes are going up.  Indeed, we might intuit that the older you are, the more skills you acquire, and hence the more valuable those skills are to an employer.  While this might be true, there is little we can say with the data we have that <em>age is the cause</em> of increased income.  Demonstrating <strong>causation requires experimental burden of proof and rigor</strong> through repeated <em>empirical experimentation</em>, <em>reproduction</em> and <em>replication</em>!  Rigorous evaluation of confounding variables, statistical sample analysis and other things are required to even begin to assert causation, so do not be tempted to do so in your own work unless those formal and rigorous evaluations are done &mdash; topics far beyond the scope of this course.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Normalization,-Standardization-and-Scaling">Normalization, Standardization and Scaling<a class="anchor-link" href="#Normalization,-Standardization-and-Scaling"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When dealing with numeric data, it is often very important to bring various data into alignment with one another so that they can be compared.  Take for example, our bank data.  The scales of ages and incomes are a couple orders of magnitude apart. This presents some problems when trying to compare their statistics.  Similar examples occur when comparing two quanties that use different scales or units &mdash; degrees Farenheit and Celsius are common examples.  They don't not make sense when compared to one another numerically and either need to be converted to one scale or another to me compared.</p>
<p>Standarding, normalizing and scaling are all important to do when working with data of any kind. Some do this by default on all data, others take a more conservative and custom approach &mdash; looking at all the data before doing any conversion. Unattended, your outcomes can lead to misleading results!</p>
<p>Let's look at each of these individually.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Scaling">Scaling<a class="anchor-link" href="#Scaling"> </a></h3><p>Scaling involves bringing data values into the same scale, and as stated before a common scaling is converting degrees Celcius to Farenheit.  Others include converting inches to millimeters or meters to feet. Individual scales, units and outcomes will dictate which scale is appropriate.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Normalizing">Normalizing<a class="anchor-link" href="#Normalizing"> </a></h3><p>Normalizing data involves or scaling values so that they fall within a specific range.  Often these values would be normalized to the range of 0.0 to 1.0 and there are a few normalization techniques we can capitalize on.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="MIN-MAX-Normalization">MIN-MAX Normalization<a class="anchor-link" href="#MIN-MAX-Normalization"> </a></h4><p>For data values $V = (v_1, v_2, \ldots, v_i, \ldots, v_n)$,</p>
$$
\mathrm{minmax}(V, v_i) = {
{v_i - \mathrm{min}(V)} \over
{\mathrm{max}(V) - \mathrm{min}(V)}
}
$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>sklearn</code> has built in scaling with min-max using <a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html"><code>sklearn.preprocessing.MinMaxScaler</code></a>.  Let's scale age to the range of 0 to 1 from our bank dataset.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="k">import</span> <span class="n">MinMaxScaler</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df_bank</span><span class="o">.</span><span class="n">age</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">scaler</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">data</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/kmaull/anaconda3/lib/python3.7/site-packages/sklearn/utils/validation.py:595: DataConversionWarning: Data with input dtype int64 was converted to float64 by MinMaxScaler.
  warnings.warn(msg, DataConversionWarning)
</pre>
</div>
</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0.6122449 ],
       [0.44897959],
       [0.67346939],
       [0.10204082],
       [0.79591837],
       [0.79591837],
       [0.08163265],
       [0.81632653],
       [0.3877551 ],
       [0.73469388]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[48],
       [40],
       [51],
       [23],
       [57],
       [57],
       [22],
       [58],
       [37],
       [54]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the scaler, we could also restrict the values to a specific scale (say, 1 to 10) with the <code>feature_range</code> parameter:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">scaler1to10</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df_bank</span><span class="o">.</span><span class="n">age</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">scaler1to10</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">scaler1to10</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">data</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/kmaull/anaconda3/lib/python3.7/site-packages/sklearn/utils/validation.py:595: DataConversionWarning: Data with input dtype int64 was converted to float64 by MinMaxScaler.
  warnings.warn(msg, DataConversionWarning)
</pre>
</div>
</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[6.51020408],
       [5.04081633],
       [7.06122449],
       [1.91836735],
       [8.16326531],
       [8.16326531],
       [1.73469388],
       [8.34693878],
       [4.48979592],
       [7.6122449 ]])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Standardizing">Standardizing<a class="anchor-link" href="#Standardizing"> </a></h3><p><strong>Standardizing</strong> is another technique that can be used to bring values into a range which typically involves rescaling data about the mean $\mu$ and standard deviation $\sigma$ of the data.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Z-score-Standardization">Z-score Standardization<a class="anchor-link" href="#Z-score-Standardization"> </a></h4><p>For normal distrubutions, Z-score normalization works well, where you know the mean $\mu$, and standard deviation $\sigma$, of the data population.</p>
$$
v' = { { v_i - \mu } \over \sigma }
$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With our sample data, let's compute the z-score for the first age in the data set (48).  We can easily compute $\sigma$ and $\mu$:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">std</span> <span class="o">=</span> <span class="n">df_bank</span><span class="o">.</span><span class="n">age</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">mean</span> <span class="o">=</span> <span class="n">df_bank</span><span class="o">.</span><span class="n">age</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And now the z-score for the age 48:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df_bank</span><span class="o">.</span><span class="n">age</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">std</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.38856294260926655</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using the <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.zscore.html"><code>scipy.stats.zscore</code></a> function we can easily compute the z-score without implementing anything on our own.  Notice the first value (age 48) is the same (or very close to it, quite likely due to a small difference in population vs sample statistic) as our own.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">zscore</span>

<span class="n">zscore</span><span class="p">(</span><span class="n">df_bank</span><span class="o">.</span><span class="n">age</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([ 0.38888715, -0.16617033,  0.59703371, -1.34566749,  1.01332682,
        1.01332682, -1.41504968,  1.08270901, -0.37431689,  0.80518026])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="More-SciPy-statistics-functions">More SciPy statistics functions<a class="anchor-link" href="#More-SciPy-statistics-functions"> </a></h3><p>For a more complete set of functions to do a variety of statistical operations, SciPy contains a large number of valuable resources: see the <a href="https://docs.scipy.org/doc/scipy/reference/stats.html"><code>scipy.stats</code></a> library reference.</p>
<h3 id="More-Scikit-Learn-preprocessing-functions">More Scikit-Learn preprocessing functions<a class="anchor-link" href="#More-Scikit-Learn-preprocessing-functions"> </a></h3><p>For the full suite of preprocessing functions (many of which include some statistical operations see the reference for <a href="http://scikit-learn.org/stable/modules/classes.html#module-sklearn.preprocessing"><code>sklearn.preprocessing</code></a>.</p>

</div>
</div>
</div>
</div>

 


</main>

            </div>
            <nav class="c-page__nav">
  
    
    <a id="js-page__nav__prev" class="c-page__nav__prev" href="/mcis6273_f19_datamining/start.html">
      〈 <span class="u-margin-right-tiny"></span> Home
    </a>
  

  
    
    <a id="js-page__nav__next" class="c-page__nav__next" href="">
       <span class="u-margin-right-tiny"></span> 〉
    </a>
  
</nav>

            <footer>
  <p class="footer">This page was created by <a href="https://github.com/jupyter/jupyter-book/graphs/contributors">The Jupyter Book Community</a></p>
</footer>

        </div>
      </main>
    </div>
  </body>
</html>
